<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body { font-family: Arial; background: #111; color: #fff; padding: 20px; }
input, button { padding: 5px; margin: 5px; }
table { width: 50%; margin-top: 20px; border-collapse: collapse; }
th, td { border: 1px solid #fff; padding: 8px; text-align: left; }
</style>
</head>
<body>
<h1>Admin Panel</h1>

<h2>Add User</h2>
<form method="post">
  <input type="hidden" name="action" value="add">
  Username: <input type="text" name="username" required>
  Password: <input type="text" name="password" required>
  <button type="submit">Add User</button>
</form>

<h2>Users</h2>
<table>
<tr><th>Username</th><th>Password</th><th>Actions</th></tr>
{% for u, p in users.items() %}
<tr>
<td>{{ u }}</td>
<td>{{ p }}</td>
<td>
  <form method="post" style="display:inline">
    <input type="hidden" name="action" value="delete">
    <input type="hidden" name="username" value="{{ u }}">
    <button type="submit">Delete</button>
  </form>
  <form method="post" style="display:inline">
    <input type="hidden" name="action" value="update">
    <input type="hidden" name="username" value="{{ u }}">
    <input type="text" name="password" placeholder="New password" required>
    <button type="submit">Update</button>
  </form>
</td>
</tr>
{% endfor %}
</table>
</body>
</html>
